12/11 è¿è¡Œtest_blockchain_integration_with_real_accountæŠ¥é”™ï¼ŒçŒœæµ‹æ˜¯å…¶è°ƒç”¨çš„VPBManagerä¸­çš„
initialize_from_genesis_batchæ–¹æ³•æœ‰é—®é¢˜ï¼š
å…¶# 3. ä¼˜åŒ–ProofUnitsæ·»åŠ  - ä½¿ç”¨æ‰¹é‡æ“ä½œé¿å…ä¸å¿…è¦çš„åµŒå¥—å¾ªç¯
            # æ„å»ºvalue_proof_pairsåˆ—è¡¨ç”¨äºæ‰¹é‡æ·»åŠ 
æ˜¯å¦æ˜¯åœ¨æ‰¹é‡æ·»åŠ æ—¶å‡ºç°äº†é—®é¢˜ï¼Œåº”è¯¥ä½¿ç”¨ç»Ÿä¸€çš„æ¥å£è¿›è¡Œæ·»åŠ ï¼Ÿ
å¾…ä¿®å¤ã€‚


12/9 æœ€æ–°çš„proofsçš„æ¶æ„ï¼ˆåˆ©ç”¨account proof manager ç®¡ç†æ‰€æœ‰proof unitsï¼‰ä¸vpbæ£€éªŒå™¨çš„æ¶æ„æ¥å£ä¸ä¸€è‡´æœ‰å†²çªã€‚


11/21ï¼šç›®å‰çš„vpb_updaterçš„æ›´æ–°é€»è¾‘è¿˜æ˜¯æœ‰é—®é¢˜çš„ï¼Œä¾‹å¦‚ä¸‹é¢ä¸¤ç‚¹ï¼š
1ï¼‰_get_account_vpbså‡½æ•°å¹¶æœªçœŸæ­£å®ç°è¯»å–è´¦æˆ·æœ¬åœ°vpbåŠŸèƒ½
2ï¼‰å®é™…çš„æ›´æ–°å¹¶éæ˜¯å°†æ‰€æœ‰vpbåˆ—è¡¨è¯»å–è¿›å†…å­˜ç„¶åæŒ¨ä¸ªæ›´æ–°ï¼Œè€Œæ˜¯ä¸€ç§æ›´å·§å¦™çš„æ–¹å¼ï¼Œå…·ä½“åœ°ï¼Œå¯è¯¦ç»†é˜…è¯»Proofs.pyåŠProof readme.mdã€‚
å…¶é‡‡ç”¨äº†ä¸€ç§æ˜ å°„æ–¹æ¡ˆæ¥å‡å°‘å†…å­˜å ç”¨å’Œæé«˜æ›´æ–°æ•ˆç‡ï¼Œå› æ­¤åœ¨è·Ÿæ–°vpbä¸­çš„pï¼ˆProofsï¼‰æ—¶ï¼Œå¹¶ä¸éœ€è¦æŠŠæ‰€æœ‰proof unitè¯»å…¥å†…å­˜ï¼Œ
è€Œæ˜¯æ›´æ–°ç›¸å…³æ˜ å°„å…³ç³»å³å¯ã€‚å› æ­¤ï¼Œå½“å‰çš„vpb_updateré€»è¾‘å¹¶ä¸é€‚ç”¨ï¼Œéœ€è¦è¿›è¡Œè°ƒæ•´ã€‚

11/22ï¼švpbå¾…é‡æ„ã€‚

11/27ï¼šå·²å®Œæˆgenesisåˆ›å»ºï¼Œtest_blockchain_integration_with_real_account.pyæµ‹è¯•å¾…ä¿®å¤ã€‚


12/3ï¼štest_blockchain_integration_with_real_account.pyæµ‹è¯•ä¸­test_complete_real_account_transaction_flowä¸­ï¼š
æ­¥éª¤6åˆ°æ­¥éª¤7ä¸­ç¼ºå°‘ä¸€äº›å…·ä½“è¿‡ç¨‹ï¼šä¾‹å¦‚ï¼š
1ï¼‰minerå‘accountï¼ˆäº¤æ˜“çš„senderï¼‰å‘é€vpbæ›´æ–°ç›¸å…³æ•°æ®åŒ…ï¼ˆé€šè¿‡minerçš„prepare_vpb_distribution_dataæ–¹æ³•ï¼‰
2ï¼‰senderæœ¬åœ°åŒ–å¤„ç†ï¼ˆé€šè¿‡accountçš„update_vpb_after_transaction_sentæ–¹æ³•ï¼‰
3ï¼‰senderå‘é€vpbç»™recipientï¼ˆé€šè¿‡accountçš„receive_vpb_from_othersæ–¹æ³•ï¼‰
4ï¼‰recipientæœ¬åœ°éªŒè¯ï¼ˆé€šè¿‡VPBValidatorç±»ï¼‰

12/3ï¼šä¿®æ”¹çš„pick_transactions_from_pool_with_proofsï¼Œè¿˜æœªè®¾è®¡æµ‹è¯•ã€‚ã€okã€‘

12/4ï¼šç›®å‰pick_transactions_from_pool_with_proofsæµ‹è¯•åœ¨6.2æ­¥éª¤æœ‰é—®é¢˜ï¼Œå…·ä½“åœ°ï¼š
# è·å–å‘é€è€…çš„ç›¸å…³äº¤æ˜“æ•°æ®
if hasattr(submit_tx_info, 'multi_transactions') and submit_tx_info.multi_transactions:
è¿™é‡Œæƒ³è¦ä»submit_tx_infoä¸­æå–multi_transactionsæœ¬ä½“ï¼Œä½†è¿™æ˜¯é”™çš„ã€‚
åº”å½“åœ¨accountæœ¬åœ°ä¸­æå–å¯¹åº”ä¿¡æ¯ï¼Œç›®å‰æ­£åœ¨ç¼–åˆ¶accountç›¸å…³æ–¹æ³•ï¼ˆæäº¤äº¤æ˜“æ± ç¼“å†²é˜Ÿåˆ—ï¼‰ï¼Œå¾…å®Œæˆã€‚

12/6ï¼š
è¿è¡Œtest_blockchain_integration_with_real_accountæµ‹è¯•è¾“å‡ºï¼š
ğŸ“‹ äº¤æ˜“è¯·æ±‚è¯¦æƒ…:
  ç¬¬1è½® (8ç¬”äº¤æ˜“):
    charlie â†’ alice: 100
    alice â†’ bob: 100
    alice â†’ charlie: 10
    alice â†’ charlie: 50
    alice â†’ bob: 100
    bob â†’ alice: 100
    charlie â†’ bob: 100
    charlie â†’ david: 10

è¿™é‡ŒAliceä½œä¸ºå‘é€è€…ç¡®å®æœ‰3ç¬”äº¤æ˜“ï¼š
alice â†’ bob: 100
alice â†’ charlie: 10
alice â†’ charlie: 50

ä½†æ˜¯åœ¨6.2æ­¥éª¤ä¸­æ˜¾ç¤ºï¼š
ğŸ” æ£€æŸ¥æäº¤äº¤æ˜“: alice_real_address_000
   - ä»accountæœ¬åœ°è·å–multi_txnsæˆåŠŸï¼ŒåŒ…å« 6 ä¸ªäº¤æ˜“

é—®é¢˜æ¥äº†ï¼šä¸ºä»€ä¹ˆæ˜¾ç¤º6ä¸ªäº¤æ˜“è€Œä¸æ˜¯3ä¸ªï¼Ÿ

æ‰¾åˆ°é—®é¢˜äº†ï¼ åœ¨ CreateMultiTransactions.create_multi_transactions æ–¹æ³•ä¸­ï¼Œæˆ‘å‘ç°äº†å…³é”®çš„ä»£ç ï¼š ç¬¬108-126è¡Œï¼šChange Transaction é€»è¾‘
# Handle change transaction if needed
change_txn_obj = None
if change_value:
    change_transaction = Transaction(
        sender=self.sender_address,
        recipient=self.sender_address,  # æ‰¾é›¶ç»™è‡ªå·±
        nonce=nonce,
        signature=None,
        value=[change_value],
        time=timestamp
    )
    # Sign the change transaction
    change_transaction.sig_txn(private_key_pem)
    change_txn_obj = change_transaction
    change_values_list.append(change_value)

transactions.append(main_transaction)
if change_txn_obj:
    transactions.append(change_txn_obj)  # è¿™é‡Œæ˜¯å…³é”®ï¼

æ ¹å› åˆ†æç»“æœ
é—®é¢˜ä¸æ˜¯Bugï¼Œè€Œæ˜¯VPBç³»ç»Ÿçš„æ‰¾é›¶æœºåˆ¶å¯¼è‡´çš„æ­£å¸¸è¡Œä¸ºï¼
äº¤æ˜“æ‹†åˆ†é€»è¾‘è§£é‡Šï¼š
Aliceçš„3ç¬”äº¤æ˜“è¯·æ±‚ï¼š
alice â†’ bob: 100
alice â†’ charlie: 10
alice â†’ charlie: 50
VPBå€¼é€‰æ‹©æœºåˆ¶ï¼šæ¯ç¬”äº¤æ˜“éƒ½éœ€è¦é€‰æ‹©åˆé€‚çš„Valueæ¥å‡‘å¤Ÿé‡‘é¢ï¼Œè¿™ä¼šäº§ç”Ÿæ‰¾é›¶
æ‰¾é›¶äº¤æ˜“ï¼šæ¯ç¬”äº¤æ˜“å¦‚æœéœ€è¦æ‰¾é›¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªé¢å¤–çš„æ‰¾é›¶äº¤æ˜“ï¼ˆAlice â†’ Aliceï¼‰
å®é™…äº¤æ˜“æ•°é‡è®¡ç®—ï¼š
ä¸»äº¤æ˜“ï¼š3ç¬”ï¼ˆç»™Bobå’ŒCharlieçš„ï¼‰
æ‰¾é›¶äº¤æ˜“ï¼šå¯èƒ½3ç¬”ï¼ˆæ¯ç¬”ä¸»äº¤æ˜“å¯¹åº”ä¸€ç¬”æ‰¾é›¶ï¼‰
æ€»è®¡ï¼š6ç¬”äº¤æ˜“ï¼ˆæ­£å¥½åŒ¹é…è¾“å‡ºä¸­çš„æ•°é‡ï¼‰
ä¸ºä»€ä¹ˆæ˜¯6ç¬”äº¤æ˜“ï¼Ÿ
Aliceçš„æ¯ç¬”äº¤æ˜“éƒ½å¯èƒ½è§¦å‘äº†VPBçš„æ‰¾é›¶æœºåˆ¶ï¼š
alice â†’ bob: 100 â†’ å¯èƒ½éœ€è¦1ä¸ªæ‰¾é›¶äº¤æ˜“
alice â†’ charlie: 10 â†’ å¯èƒ½éœ€è¦1ä¸ªæ‰¾é›¶äº¤æ˜“
alice â†’ charlie: 50 â†’ å¯èƒ½éœ€è¦1ä¸ªæ‰¾é›¶äº¤æ˜“
æ€»è®¡ï¼š3 + 3 = 6ç¬”äº¤æ˜“
ç»“è®º
è¿™ä¸æ˜¯ä¸€ä¸ªBugï¼Œè€Œæ˜¯VPBï¼ˆValue Proof Blockï¼‰ç³»ç»Ÿçš„æ­£ç¡®å·¥ä½œæ–¹å¼ã€‚ç³»ç»Ÿä¸ºäº†ä¿è¯äº¤æ˜“çš„ç²¾ç¡®æ€§ï¼Œ
ä¼šä¸ºæ¯ç¬”éœ€è¦æ‰¾é›¶çš„ä¸»äº¤æ˜“åˆ›å»ºé¢å¤–çš„æ‰¾é›¶äº¤æ˜“ï¼Œè¿™äº›æ‰¾é›¶äº¤æ˜“ä¹Ÿè®°å½•åœ¨Aliceçš„MultiTransactionsä¸­ã€‚
è¾“å‡ºä¸­æ˜¾ç¤ºçš„"6ä¸ªäº¤æ˜“"æ˜¯å‡†ç¡®çš„ï¼ŒåŒ…å«äº†3ç¬”ä¸»äº¤æ˜“å’Œ3ç¬”æ‰¾é›¶äº¤æ˜“ã€‚